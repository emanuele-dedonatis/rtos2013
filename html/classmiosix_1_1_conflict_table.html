<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>STM32F4 Pedometer: miosix::ConflictTable Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">STM32F4 Pedometer
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A pedometer library for the STM32F4 Discovery board by ST Microelectronics.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemiosix.html">miosix</a></li><li class="navelem"><a class="el" href="classmiosix_1_1_conflict_table.html">ConflictTable</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmiosix_1_1_conflict_table-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">miosix::ConflictTable Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="conflict__table_8h_source.html">conflict_table.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a46499bf8153680f103a474c9bd2fb5e1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmiosix_1_1_conflict_table.html#a46499bf8153680f103a474c9bd2fb5e1">OpenState</a> { <a class="el" href="classmiosix_1_1_conflict_table.html#a46499bf8153680f103a474c9bd2fb5e1a8f37c33dd680b9b8f8d3ddf9b1eb8746">NOT_OPEN</a>, 
<a class="el" href="classmiosix_1_1_conflict_table.html#a46499bf8153680f103a474c9bd2fb5e1aea1a6958403f9949700b56d66f1080bc">OPEN_READ</a>, 
<a class="el" href="classmiosix_1_1_conflict_table.html#a46499bf8153680f103a474c9bd2fb5e1ac6aaa08527137fda829d6f2e5a2301d6">OPEN_WRITE</a>
 }</td></tr>
<tr class="separator:a46499bf8153680f103a474c9bd2fb5e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa8f6c7d1fb129de0602e1319c6054023"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmiosix_1_1_conflict_table.html#a46499bf8153680f103a474c9bd2fb5e1">OpenState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmiosix_1_1_conflict_table.html#aa8f6c7d1fb129de0602e1319c6054023">isOpen</a> (const char *filename) const </td></tr>
<tr class="separator:aa8f6c7d1fb129de0602e1319c6054023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11b1815d854928bd578b29da666d801f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmiosix_1_1_conflict_table.html#a11b1815d854928bd578b29da666d801f">open</a> (int fd, const char *filename, <a class="el" href="classmiosix_1_1_conflict_table.html#a46499bf8153680f103a474c9bd2fb5e1">OpenState</a> mode)</td></tr>
<tr class="separator:a11b1815d854928bd578b29da666d801f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24a9284e4564f4ad87483a3edbd70adb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmiosix_1_1_conflict_table.html#a24a9284e4564f4ad87483a3edbd70adb">close</a> (int fd)</td></tr>
<tr class="separator:a24a9284e4564f4ad87483a3edbd70adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class is used to keep information about open files. Given the file name, this class can tell if it is currently open for reading or writing. Also, for files opened for reading a reference count is kept because it is possible to open the same file more times. The goal of this class is to avoid opening the same file more than once if it is already opened for writing, a thing that can cause crashes and/or filesystem corruption. Wish I could use std::set to implement this... </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a46499bf8153680f103a474c9bd2fb5e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classmiosix_1_1_conflict_table.html#a46499bf8153680f103a474c9bd2fb5e1">miosix::ConflictTable::OpenState</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A file is considered in one of these three states </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a46499bf8153680f103a474c9bd2fb5e1a8f37c33dd680b9b8f8d3ddf9b1eb8746"></a>NOT_OPEN</em>&#160;</td><td class="fielddoc">
<p>File is not currently open. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a46499bf8153680f103a474c9bd2fb5e1aea1a6958403f9949700b56d66f1080bc"></a>OPEN_READ</em>&#160;</td><td class="fielddoc">
<p>File is open for reading. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a46499bf8153680f103a474c9bd2fb5e1ac6aaa08527137fda829d6f2e5a2301d6"></a>OPEN_WRITE</em>&#160;</td><td class="fielddoc">
<p>File is open for writing (or appending) </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a24a9284e4564f4ad87483a3edbd70adb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void miosix::ConflictTable::close </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>To be called when a file is closed. If the file is opened more times its reference count is decreased, otherwise it is removed from the conflict table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>file descriptor of the file to remove. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa8f6c7d1fb129de0602e1319c6054023"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmiosix_1_1_conflict_table.html#a46499bf8153680f103a474c9bd2fb5e1">OpenState</a> miosix::ConflictTable::isOpen </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a file name, return its state </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>the file name, including its path (if present) Note that if the path is absent a / is added to the file name because file.txt and /file.txt are the same file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the file state </dd></dl>

</div>
</div>
<a class="anchor" id="a11b1815d854928bd578b29da666d801f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void miosix::ConflictTable::open </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmiosix_1_1_conflict_table.html#a46499bf8153680f103a474c9bd2fb5e1">OpenState</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a file to the conflict table. To be called when a file is opened. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>file descriptor, it is stored in the table and used to identify the file when closing it </td></tr>
    <tr><td class="paramname">filename</td><td>the file name, including its path (if present) Note that if the path is absent a / is added to the file name because file.txt and /file.txt are the same file. </td></tr>
    <tr><td class="paramname">mode</td><td>can be either OPEN_READ or OPEN_WRITE, NOT_OPEN is not allowed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>miosix/_tools/unused/<a class="el" href="conflict__table_8h_source.html">conflict_table.h</a></li>
<li>miosix/_tools/unused/conflict_table.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 31 2014 12:53:06 for STM32F4 Pedometer by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
